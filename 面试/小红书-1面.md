## 项目相关问题

### 自我介绍
### 根据简历问相关的问题

  我看你的简历上写了在顺丰工作期间，总共负责了16个模块，30个版本的迭代，简历上写了三个项目，可不可以详细介绍一下这几个项目。

### 介绍一下仓网规划/线路规划项目
  1. 仓网规划和线路规划都是为了解决供应链行业的一些具体场景而产生的一些效率工具。
  2. 介绍了仓网规划项目内具体负责的一些事，和一些存在的缺陷。
  3. 具体介绍了线路规划项目，引入了Redux和Redux-saga
  4. 在线路规划模块，我产出了比较详尽的前端设计方案，这里我跟面试官介绍了一些我实现前端设计方案的具体方法:
    
     - 作为前端开发工程师，我们在开发中需要关注的细节有几个，一是设计图，二是交互图，三是与后端的接口调用逻辑。
  
     - 对这三部分的功能点，我做了一个思维导图，首先设计图上有的所有ui元素，我对它们进行了一个遍历展开，然后这些元素/模块有对应的交互细节，我也做了相应的遍历。(这里我可以再具体的展开，在梳理交互逻辑时，我遇到的一些问题，和怎么`反馈`给交互，讨论并修改设计流程的，可以再展开说说）：

        例：我在做数据集和场景集部分的交互功能点梳理时发现，它们用的是同一个布局：左侧列表， 右侧对应选中列表项的具体业务逻辑，左侧列表的底部有一个创建功能，对于这个`创建按钮`，它们却有不同的实现逻辑。在数据集部分的`创建`是真实创建，创建即生成一个数据集，但在场景集部分的逻辑却是，`创建`是前端临时创建，当点击保存时才会真实创建一个场景集。

        当时梳理到这儿时，我认为这个创建的行为在交互上保持统一才是合理的，这部分是为了妥协后端的设计，才将交互图设计成这样。这个交互的流程是`增加了前端的心智负担，而且没有统一的行为会让用户困惑的`。于是这个交互的点最后统一了。

        例2: 大概的页面布局是头部有个编辑按钮，container为一个可编辑表格，点击编辑按钮进入编辑模式，可以编辑表格，否则处于展示模式。这个表格的右侧有一列操作栏。交互设计不合理的点在于，在非编辑模式下，我们可以看到这一列操作栏。对于用户来说，点击操作栏按钮的这些操作本身就是`编辑`的行为。

      - 最后是对接口逻辑的交互梳理，这里我也是比较简单的带过，其实这里也有可以聊的地方：

          1. 逻辑复用，为什么针对同一模块不同的业务逻辑的表格，我们需要调用不同的接口。针对不同文件的上传，能不能用同一个上传接口去处理呢。
          2. 减少调用次数，为了拿到d，我可能需要根据a的返回结果去调用b,再用b的返回结果调用c，再从c拿到d，这个链路拿到1个结果进行了三次网络请求，那么这个接口的设计就是不合理的。
      - 绕了一大圈，终于介绍完对ui/交互/接口调用逻辑的遍历，当我做完这些遍历时，我会进行比较细致的代码设计： 


           - 状态的设计分三层：`redux`, `redux-saga`, `hook`层
           - 当我们了解了交互设计与接口调用的细节时，我们可以大概的设计出`redux`或者`hook`里需要的状态
           - 当我们进行比较复杂的，涉及到接口调用部分的业务逻辑，我们可以用`redux-saga`处理
           - 我们可以按模块`slice`划分出redux中的状态，以及每个`slice`需要的`actions`。

      - 最后我们的开发会最大程度地遵循之前的状态设计，并且在开发过程中，也对我们的最初设计做了一个check，给以后的开发积累了经验。

### 我看到你的简历上有写在仓网规划的开发中进行了一些重构的工作，能具体说一说具体做了哪些事吗
    
   1. ts重构
   2. class组件重构
   3. 高德地图组件重构，（这个点我觉得也可以着重展开一下，`用react的思想写高德地图`
   4. react版本升级

### 在项目中有实现过哪些hooks

   1. useModal
   2. usePrompt (一个监听路由变化的hook)
  
### 能聊聊react16x与15相比有哪些优化吗

   1. 时间分片，在reconciler和renderer的基础上增加了scheduler。（关于`fiber`这个知识点我了解了很多概念，需要归纳总结一下，形成一个话术）
   2. class to hooks， `class`更贴近开发者认知，有生命周期的概念。但很难逻辑复用。 `hooks`更贴近react底层。
   3. 可能还有更多，需要去看一下。
  
### 你在仓网规划的开发中是如何平衡重构和开发的排期的

  在不影响主功能的情况下，视情况，如果组件的重构成本比较高，我会优先完成业务逻辑的开发。在完成功能的情况下，我会在一些预留的buffer里，去抽时间重构项目。

### 你们项目的组件库都是用了ant design的能力，有没有ant design支持不到的场景

  目前我开发的项目中还没有这种case。（这个问题我觉得回答得不太好，可以展开：如果没有组件库的能力，我该怎么做）

### 你是怎么思考项目的技术选型的，为什么在线路的开发中选用umi，有什么优势吗？

  1. umi开箱即用，内置了路由、构建、部署、测试等，仅需要一个依赖就能上手开发
  2. umi有大量自研生态，包括了微前端、组件打包、文档工具、请求库、hook库等。
  3. 为什么不是`cra`, cra在`打包层`把体验做到了极致，但它不包含路由，不是框架，配置困难。

### 关于微前端，有什么了解吗

  简单介绍了一下我目前项目中的业务痛点

### 都调研了哪些微前端的解决方案

  1. 飞冰
  2. single-spa
  3. qiankun

### 微前端的实现，有了解吗

  ~~大概和react-router差不多?~~ 
  回答错误，需要看一下实现

## coding部分

1. 实现一个`isArray`函数

     - obj.__proto__ === Array.prototype
     - obj instanceOf Array
    
    除了这两种方法，还有什么可以判断数组的方法吗（需要去看一下）

2. 实现一个`lastIndexOf`函数,挂载在Array的原型上

  不太记得这个具体的api了，于是我在控制台运行了一下例子，写了一点case

  - 这个lastIndexOf有第二个参数index,如果index > Array.length, 或者index < 0, 应该怎么处理